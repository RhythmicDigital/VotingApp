{"ast":null,"code":"var _jsxFileName = \"/Users/Alex/voting-app/src/components/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect, useState, useContext } from 'react';\nimport { MyContext } from '../contexts/MyContext';\nimport teamsJson from \"../lib/teams.json\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport VotingCard from \"../components/VotingCard.jsx\";\nimport axios from 'axios'; // Define the base URL\n\nconst Axios = axios.create({\n  baseURL: 'http://localhost/php-voting-api/'\n}); // Importing the Login & Register Componet\n\nimport Login from './Login';\nimport Register from './Register';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  const {\n    rootState,\n    logoutUser\n  } = useContext(MyContext);\n  const {\n    isAuth,\n    theUser,\n    showLogin\n  } = rootState;\n  let [teams, setTeams] = useState([]);\n\n  addOneVote = async candidate => {\n    const addVote = await Axios.post('add-one-vote.php', {\n      id: candidate.id\n    });\n    return addVote.data;\n  };\n\n  readCandidate = async candidate => {\n    const read = await Axios.get('read-candidate.php', {\n      id: candidate.id\n    });\n    return read.data;\n  };\n\n  useEffect(() => {\n    setTeams(teamsJson);\n  }, []);\n\n  function incrementVoteCount(teamId) {\n    teams = teams.map(team => {\n      if (team._id === teamId) {\n        team.votes = team.votes + 1;\n      }\n\n      return team;\n    });\n    setTeams(teams);\n  } // If user Logged in\n\n\n  if (isAuth) {\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userInfo\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"_img\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"User Image\",\n            children: \"\\uD83D\\uDC66\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: theUser.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"_email\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: theUser.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: logoutUser,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: \"app\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: teams.map(team => {\n            return /*#__PURE__*/_jsxDEV(Col, {\n              md: 4,\n              children: /*#__PURE__*/_jsxDEV(VotingCard, {\n                team: team,\n                addOneVote: team => addOneVote(team),\n                readCandidate: readCandidate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 25\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this);\n  } // Showing Login Or Register Page According to the condition\n  else if (showLogin) {\n      return /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 16\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 16\n      }, this);\n    }\n}\n\n_s(Home, \"mpRHGWsPLeX3/Qc6etd6cgUIxd0=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/Alex/voting-app/src/components/Home.js"],"names":["React","Fragment","useEffect","useState","useContext","MyContext","teamsJson","Container","Row","Col","VotingCard","axios","Axios","create","baseURL","Login","Register","Home","rootState","logoutUser","isAuth","theUser","showLogin","teams","setTeams","addOneVote","candidate","addVote","post","id","data","readCandidate","read","get","incrementVoteCount","teamId","map","team","_id","votes","name","email"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState, useContext} from 'react'\nimport {MyContext} from '../contexts/MyContext'\nimport teamsJson from \"../lib/teams.json\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport VotingCard from \"../components/VotingCard.jsx\";\nimport axios from 'axios'\n\n// Define the base URL\nconst Axios = axios.create({\n    baseURL: 'http://localhost/php-voting-api/',\n});\n\n// Importing the Login & Register Componet\nimport Login from './Login'\nimport Register from './Register'\n\nfunction Home(){\n\n    const {rootState,logoutUser} = useContext(MyContext);\n    const {isAuth,theUser,showLogin} = rootState;\n    let [teams, setTeams] = useState([]);\n    \n    addOneVote = async (candidate) => {\n        const addVote = await Axios.post('add-one-vote.php',{\n            id:candidate.id\n        });\n        return addVote.data;\n    }\n    readCandidate = async (candidate) => {\n        const read = await Axios.get('read-candidate.php',{\n            id:candidate.id\n        });\n        return read.data;\n    }\n    useEffect(() => {\n      setTeams(teamsJson);\n    }, []);\n  \n    function incrementVoteCount(teamId) {\n      teams = teams.map((team) => {\n        if (team._id === teamId) {\n          team.votes = team.votes + 1;\n        }\n        return team;\n      });\n      setTeams(teams);\n    }\n\n    // If user Logged in\n    if(isAuth)\n    {\n        return(\n            <Fragment>\n                <div className=\"userInfo\">\n                    <div className=\"_img\"><span role=\"img\" aria-label=\"User Image\">ðŸ‘¦</span></div>\n                    <h1>{theUser.name}</h1>\n                    <div className=\"_email\"><span>{theUser.email}</span></div>\n                    <button onClick={logoutUser}>Logout</button>\n                </div>\n                <Container className=\"app\">\n                    <Row>\n                    {teams.map((team) => {\n                        return (\n                        <Col md={4}>\n                            <VotingCard\n                            team={team}\n                            addOneVote={(team) => addOneVote(team)}\n                            readCandidate={readCandidate}\n                            />\n                        </Col>\n                        );\n                    })}\n                    </Row>\n                </Container>\n            </Fragment>\n        )\n    }\n    // Showing Login Or Register Page According to the condition\n    else if(showLogin){\n        return <Login/>;\n    }\n    else{\n        return <Register/>;\n    }\n    \n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}