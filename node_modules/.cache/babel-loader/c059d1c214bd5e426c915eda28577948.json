{"ast":null,"code":"import _classCallCheck from\"/home/alex/voting-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/alex/voting-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/alex/voting-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/alex/voting-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{createContext,Component}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var JoeContext=/*#__PURE__*/createContext();var CandData=/*#__PURE__*/function(_Component){_inherits(CandData,_Component);var _super=_createSuper(CandData);function CandData(){var _this;_classCallCheck(this,CandData);_this=_super.call(this);_this.state={loading:true,error:\"\",data:null};_this.loadData=function(){_this.setState({loading:true});return axios.get(\"http://localhost/php-voting-api/read-candidate.php/\").then(function(result){console.log(\"SALUTATIONS\",result.data);_this.setState({data:result.data,loading:false,error:false});}).catch(function(error){console.error(\"error: \",error);_this.setState({// objects cannot be used as a react child\n// -> <p>{error}</p> would throw otherwise\nerror:\"\".concat(error),loading:false});});};return _this;}_createClass(CandData,[{key:\"componentDidMount\",value:function componentDidMount(){this.loadData();}},{key:\"render\",value:function render(){var _this$state=this.state,loading=_this$state.loading,error=_this$state.error,data=_this$state.data;if(loading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading ...\"});}if(error){return/*#__PURE__*/_jsxs(\"p\",{children:[\"There was an error loading the repos.\",\" \",/*#__PURE__*/_jsx(\"button\",{onClick:this.loadData,children:\"Try again\"})]});}var contextValue={obama:this.state};return/*#__PURE__*/_jsx(JoeContext.Provider,{value:contextValue,children:this.props.children});}}]);return CandData;}(Component);export default CandData;","map":{"version":3,"sources":["/home/alex/voting-app/src/components/CandData.js"],"names":["React","createContext","Component","axios","JoeContext","CandData","state","loading","error","data","loadData","setState","get","then","result","console","log","catch","contextValue","obama","props","children"],"mappings":"giBAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,CAA+BC,SAA/B,KAA+C,OAA/C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFACA,MAAO,IAAMC,CAAAA,UAAU,cAAGH,aAAa,EAAhC,C,GAEDI,CAAAA,Q,oGACJ,mBAAa,0CACX,wBADW,MAGbC,KAHa,CAGL,CACNC,OAAO,CAAE,IADH,CAENC,KAAK,CAAE,EAFD,CAGNC,IAAI,CAAE,IAHA,CAHK,OAQbC,QARa,CAQF,UAAM,CACf,MAAKC,QAAL,CAAc,CAAEJ,OAAO,CAAE,IAAX,CAAd,EACA,MAAOJ,CAAAA,KAAK,CACTS,GADI,wDAIJC,IAJI,CAIC,SAAAC,MAAM,CAAI,CACdC,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BF,MAAM,CAACL,IAAlC,EACA,MAAKE,QAAL,CAAc,CACZF,IAAI,CAAEK,MAAM,CAACL,IADD,CAEZF,OAAO,CAAE,KAFG,CAGZC,KAAK,CAAE,KAHK,CAAd,EAKD,CAXI,EAYJS,KAZI,CAYE,SAAAT,KAAK,CAAI,CACdO,OAAO,CAACP,KAAR,CAAc,SAAd,CAAyBA,KAAzB,EACA,MAAKG,QAAL,CAAc,CACZ;AACA;AACAH,KAAK,WAAKA,KAAL,CAHO,CAIZD,OAAO,CAAE,KAJG,CAAd,EAMD,CApBI,CAAP,CAqBD,CA/BY,cAEZ,C,sDA8BD,4BAAoB,CAClB,KAAKG,QAAL,GACD,C,sBACD,iBAAS,CACP,gBAAiC,KAAKJ,KAAtC,CAAQC,OAAR,aAAQA,OAAR,CAAiBC,KAAjB,aAAiBA,KAAjB,CAAwBC,IAAxB,aAAwBA,IAAxB,CACA,GAAIF,OAAJ,CAAa,CACX,mBAAO,kCAAP,CACD,CACD,GAAIC,KAAJ,CAAW,CACT,mBACE,6DACwC,GADxC,cAEE,eAAQ,OAAO,CAAE,KAAKE,QAAtB,uBAFF,GADF,CAMD,CACD,GAAMQ,CAAAA,YAAY,CAAE,CAClBC,KAAK,CAAC,KAAKb,KADO,CAApB,CAGA,mBACE,KAAC,UAAD,CAAY,QAAZ,EAAqB,KAAK,CAAEY,YAA5B,UACG,KAAKE,KAAL,CAAWC,QADd,EADF,CAKD,C,sBAzDoBnB,S,EA4DvB,cAAeG,CAAAA,QAAf","sourcesContent":["import React, { createContext, Component} from \"react\";\nimport axios from \"axios\";\nexport const JoeContext = createContext();\n\nclass CandData extends Component {\n  constructor(){\n    super();\n  }\n  state = {\n    loading: true,\n    error: \"\",\n    data: null\n  };\n  loadData = () => {\n    this.setState({ loading: true });\n    return axios\n      .get(\n        `http://localhost/php-voting-api/read-candidate.php/`\n      )\n      .then(result => {\n        console.log(\"SALUTATIONS\", result.data);\n        this.setState({\n          data: result.data,\n          loading: false,\n          error: false\n        });\n      })\n      .catch(error => {\n        console.error(\"error: \", error);\n        this.setState({\n          // objects cannot be used as a react child\n          // -> <p>{error}</p> would throw otherwise\n          error: `${error}`,\n          loading: false\n        });\n      });\n  };\n  componentDidMount() {\n    this.loadData();\n  }\n  render() {\n    const { loading, error, data } = this.state;\n    if (loading) {\n      return <p>Loading ...</p>;\n    }\n    if (error) {\n      return (\n        <p>\n          There was an error loading the repos.{\" \"}\n          <button onClick={this.loadData}>Try again</button>\n        </p>\n      );\n    }\n    const contextValue= {\n      obama:this.state\n    }\n    return ( \n      <JoeContext.Provider value={contextValue}>\n        {this.props.children}\n      </JoeContext.Provider>\n    )\n  }\n}\n\nexport default CandData;"]},"metadata":{},"sourceType":"module"}